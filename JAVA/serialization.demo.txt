import java.io.*;

// A simple class implementing Serializable
class Student implements Serializable {
    private static final long serialVersionUID = 1L; // good practice
    private String name;
    private int age;

    // Constructor
    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }

    // toString method for printing
    @Override
    public String toString() {
        return "Student{name='" + name + "', age=" + age + "}";
    }
}

public class SerializationDemo {
    public static void main(String[] args) {
        String filename = "student.ser"; // persistent storage (file)

        // Create an object
        Student s1 = new Student("Rahul", 21);

        // ------------ Serialization (Writing object to file) ------------
        try (ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(filename))) {
            out.writeObject(s1);
            System.out.println("Object has been serialized to " + filename);
        } catch (IOException e) {
            e.printStackTrace();
        }

        // ------------ Deserialization (Reading object from file) ------------
        try (ObjectInputStream in = new ObjectInputStream(new FileInputStream(filename))) {
            Student s2 = (Student) in.readObject();
            System.out.println("Object has been deserialized: " + s2);
        } catch (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
}


=================================

USING DB : MS SQL SERVER

=================================

import java.sql.*;

class Student {
    private String name;
    private int age;

    public Student(String name, int age) {
        this.name = name;
        this.age = age;
    }
    public String getName() { return name; }
    public int getAge() { return age; }
}

public class StudentDBDemo {
    public static void main(String[] args) {
        String url = "jdbc:sqlserver://localhost:1433;databaseName=TestDB;encrypt=true;trustServerCertificate=true;";
        String user = "sa";
        String password = "your_password";

        Student s1 = new Student("Rahul", 21);

        try (Connection conn = DriverManager.getConnection(url, user, password)) {
            System.out.println("Connected to SQL Server");

            // Insert object state into DB
            String insertSQL = "INSERT INTO Students(name, age) VALUES (?, ?)";
            try (PreparedStatement ps = conn.prepareStatement(insertSQL)) {
                ps.setString(1, s1.getName());
                ps.setInt(2, s1.getAge());
                ps.executeUpdate();
                System.out.println("Student inserted.");
            }

            // Retrieve object back from DB
            String selectSQL = "SELECT name, age FROM Students WHERE name = ?";
            try (PreparedStatement ps = conn.prepareStatement(selectSQL)) {
                ps.setString(1, "Rahul");
                ResultSet rs = ps.executeQuery();
                if (rs.next()) {
                    Student s2 = new Student(rs.getString("name"), rs.getInt("age"));
                    System.out.println("Retrieved from DB: " + s2.getName() + " (" + s2.getAge() + ")");
                }
            }

        } catch (SQLException e) {
            e.printStackTrace();
        }
    }
}

